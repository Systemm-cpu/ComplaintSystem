(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{705:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/complaint",function(){return i(3450)}])},3139:function(e,t,i){"use strict";i.d(t,{S:function(){return r}});let n="https://complaint.ogra.org.pk";if(!n){let{protocol:e,hostname:t}=window.location;n="".concat(e,"//").concat(t,":5000")}n||(n="http://localhost:5000");let r="https://complaint.ogra.org.pk"},3450:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=i(5893),r=i(7294),a=i(1664),s=i.n(a),o=i(7066),l=i(3139);function d(){let[e,t]=(0,r.useState)({categories:[],companies:[],types:[]}),[i,a]=(0,r.useState)({firstName:"",lastName:"",cnic:"",email:"",address:"",city:"",province:"",homePhone:"",officePhone:"",complaint:"",categoryId:"",companyId:"",typeId:""}),[d,p]=(0,r.useState)(null),[u,g]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[f,j]=(0,r.useState)(null),[b,v]=(0,r.useState)(""),[C,N]=(0,r.useState)(""),[A,S]=(0,r.useState)(""),[w,F]=(0,r.useState)(""),[P,T]=(0,r.useState)(""),[k,I]=(0,r.useState)(""),[q,Y]=(0,r.useState)(""),[z,B]=(0,r.useState)(""),[R,D]=(0,r.useState)(""),[E,_]=(0,r.useState)(!1),[O,W]=(0,r.useState)(!1),H=(0,r.useRef)(null);(0,r.useEffect)(()=>{Promise.all([o.Z.get(l.S+"/api/master/categories"),o.Z.get(l.S+"/api/master/companies"),o.Z.get(l.S+"/api/master/types")]).then(e=>{let[i,n,r]=e;t({categories:i.data,companies:n.data,types:r.data})})},[]);let G=async e=>{if(e&&e.preventDefault&&e.preventDefault(),y(""),!E){y("Please affirm that the information is correct (Point 8).");return}if(!O){let e=function(){if(!i.firstName.trim())return"First Name is required.";if(!i.cnic.trim())return"CNIC is required.";let e=i.cnic.trim();return/^\d{5}-\d{7}-\d$/.test(e)||/^\d{13}$/.test(e)?i.email.trim()?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(i.email.trim())?i.city.trim()?i.province.trim()?i.address.trim()?i.complaint.trim()?i.companyId?i.categoryId?i.typeId?"":"Please select a Complaint Type.":"Please select a Consumer category.":"Please select a Company (licensee/dealer).":"Complaint description is required.":"Address is required.":"Province is required.":"City is required.":"Please enter a valid email address.":"Email is required.":"CNIC must be 13 digits (e.g. 12345-1234567-1)."}();if(e){y(e);return}W(!0),H.current?H.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"});return}g(!0);try{let e="1) Contact Details:\n"+"   City: ".concat(i.city||"N/A","\n")+"   Province: ".concat(i.province||"N/A","\n")+"   Home Telephone: ".concat(i.homePhone||"N/A","\n")+"   Office Telephone: ".concat(i.officePhone||"N/A","\n\n")+"3) Complaint Description:\n".concat(i.complaint,"\n\n")+"4) Tried to resolve with Licensee: ".concat(b||"Not specified","\n")+("Yes"===b&&C?"   Details: ".concat(C,"\n"):"")+"5) Filed with any other body: ".concat(A||"Not specified","\n")+("Yes"===A&&w?"   Details: ".concat(w,"\n"):"")+"6) Any other information: ".concat(P||"None","\n")+"7) Attachments included: ".concat(k||"Not specified","\n")+("Yes"===k&&q?"   Attachment list: ".concat(q,"\n"):"")+'8) Affirmation: Signed by "'.concat(z||"N/A",'" on ').concat(R||"N/A"),t=new FormData;Object.keys(i).forEach(n=>{if("complaint"===n)t.append("complaint",e);else{var r;t.append(n,null!==(r=i[n])&&void 0!==r?r:"")}}),d&&Array.from(d).forEach(e=>t.append("attachments",e));let n=await o.Z.post(l.S+"/api/complaints",t,{headers:{"Content-Type":"multipart/form-data"}});j(n.data)}catch(e){var t,n;y((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to submit")}finally{g(!1),W(!1)}},L=(e,t)=>{var i;return(null===(i=e.find(e=>String(e.id)===String(t)))||void 0===i?void 0:i.name)||""};return(0,n.jsx)("div",{style:{minHeight:"100vh",background:"#F3F4F6",padding:"2rem 1rem",display:"flex",justifyContent:"center"},children:(0,n.jsxs)("div",{ref:H,style:{width:"100%",maxWidth:880,background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[(0,n.jsxs)("div",{style:{position:"relative",marginBottom:"1.5rem",textAlign:"center"},children:[(0,n.jsx)("div",{style:{position:"absolute",top:0,right:0},children:(0,n.jsx)(s(),{href:"/track",children:(0,n.jsx)("button",{type:"button",style:{background:"white",color:"#0C512F",border:"1px solid #0C512F",borderRadius:6,padding:"0.4rem 0.9rem",fontSize:"0.85rem",fontWeight:600,cursor:"pointer"},children:"Track Complaint"})})}),(0,n.jsx)("img",{src:"/ogra-logo.png",alt:"OGRA Logo",style:{width:"36px",height:"36px",objectFit:"contain"}}),(0,n.jsx)("h1",{style:{fontSize:"1.4rem",color:"#0C512F",fontWeight:700},children:"OGRA Complaint Form"}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",color:"#444"},children:"Please complete Points 1 to 8. All information should be accurate."})]}),f&&(0,n.jsxs)("div",{style:{padding:"1rem",background:"rgba(58,164,105,0.15)",borderLeft:"4px solid #3AA469",borderRadius:6,marginBottom:"1rem",fontSize:"0.9rem"},children:[(0,n.jsx)("p",{style:{margin:0},children:"Your complaint has been submitted."}),(0,n.jsxs)("p",{style:{margin:0},children:["Tracking ID:"," ",(0,n.jsx)("strong",{style:{color:"#0C512F"},children:f.trackingId})]})]}),!f&&(0,n.jsxs)("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[x&&(0,n.jsx)("div",{style:{color:"red"},children:x}),O&&(0,n.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:"1rem",background:"#F9FAFB",marginBottom:"0.5rem",fontSize:"0.9rem"},children:[(0,n.jsx)("h3",{style:{marginTop:0,marginBottom:"0.5rem",color:"#0C512F",fontSize:"1rem"},children:"Review Your Complaint"}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Name:"})," ",i.firstName," ",i.lastName]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"CNIC:"})," ",i.cnic]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Email:"})," ",i.email]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"City / Province:"})," ",i.city," ",i.city&&i.province&&" / "," ",i.province]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Address:"})," ",i.address]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Home Phone:"})," ",i.homePhone||"N/A"," |"," ",(0,n.jsx)("strong",{children:"Office Phone:"})," ",i.officePhone||"N/A"]}),(0,n.jsxs)("p",{style:{margin:"0.5rem 0 0"},children:[(0,n.jsx)("strong",{children:"Company:"})," ",L(e.companies,i.companyId)||"N/A"]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Consumer Category:"})," ",L(e.categories,i.categoryId)||"N/A"]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Complaint Type:"})," ",L(e.types,i.typeId)||"N/A"]}),(0,n.jsxs)("p",{style:{margin:"0.5rem 0 0"},children:[(0,n.jsx)("strong",{children:"Complaint:"})," ",i.complaint]}),(0,n.jsxs)("p",{style:{margin:"0.5rem 0 0"},children:[(0,n.jsx)("strong",{children:"Tried to resolve with licensee:"})," ",b||"Not specified","Yes"===b&&C?" — ".concat(C):""]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Filed elsewhere:"})," ",A||"Not specified","Yes"===A&&w?" — ".concat(w):""]}),(0,n.jsxs)("p",{style:{margin:"0.5rem 0 0"},children:[(0,n.jsx)("strong",{children:"Other info:"})," ",P||"None"]}),(0,n.jsxs)("p",{style:{margin:0},children:[(0,n.jsx)("strong",{children:"Attachments included:"})," ",k||"Not specified","Yes"===k&&q?" — ".concat(q):""]}),(0,n.jsxs)("p",{style:{margin:"0.5rem 0 0"},children:[(0,n.jsx)("strong",{children:"Affirmation:"}),' Signed as "',z||"N/A",'"'," on ",R||"N/A"]}),(0,n.jsxs)("div",{style:{marginTop:"0.75rem",display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>W(!1),style:{padding:"0.4rem 0.9rem",borderRadius:6,border:"1px solid #9CA3AF",background:"white",cursor:"pointer",fontSize:"0.85rem"},children:"Edit Information"}),(0,n.jsx)("button",{type:"button",disabled:u,onClick:G,style:{padding:"0.4rem 0.9rem",borderRadius:6,border:"none",background:"#0C512F",color:"white",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:u?"Submitting...":"Confirm & Submit"})]})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"1) Information about Complainant"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[(0,n.jsx)(c,{label:"First Name",required:!0,value:i.firstName,onChange:e=>a({...i,firstName:e})}),(0,n.jsx)(c,{label:"Last Name",value:i.lastName,onChange:e=>a({...i,lastName:e})}),(0,n.jsx)(c,{label:"CNIC (e.g. 12345-1234567-1)",required:!0,value:i.cnic,onChange:e=>a({...i,cnic:e})}),(0,n.jsx)(c,{label:"Email",type:"email",required:!0,value:i.email,onChange:e=>a({...i,email:e})})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginTop:"0.75rem"},children:[(0,n.jsx)(c,{label:"City",required:!0,value:i.city,onChange:e=>a({...i,city:e})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{fontWeight:600,fontSize:"0.9rem"},children:"Province"}),(0,n.jsxs)("select",{value:i.province,onChange:e=>a({...i,province:e.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:6,marginTop:6},children:[(0,n.jsx)("option",{value:"",children:"Select Province"}),(0,n.jsx)("option",{value:"Balochistan",children:"Balochistan"}),(0,n.jsx)("option",{value:"Khyber Pakhtunkhwa",children:"Khyber Pakhtunkhwa"}),(0,n.jsx)("option",{value:"Sindh",children:"Sindh"}),(0,n.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,n.jsx)("option",{value:"Federal Capital",children:"Federal Capital"}),(0,n.jsx)("option",{value:"Federally Administered Northern Areas/FANA",children:"Federally Administered Northern Areas/FANA"}),(0,n.jsx)("option",{value:"Federally Administered Tribal Areas/FATA",children:"Federally Administered Tribal Areas/FATA"}),(0,n.jsx)("option",{value:"Azad Kashmir",children:"Azad Kashmir"}),(0,n.jsx)("option",{value:"Gilgit Baltistan",children:"Gilgit Baltistan"})]})]}),(0,n.jsx)(c,{label:"Home Telephone (with country code)",value:i.homePhone,onChange:e=>a({...i,homePhone:e})}),(0,n.jsx)(c,{label:"Office Telephone (with country code)",value:i.officePhone,onChange:e=>a({...i,officePhone:e})})]}),(0,n.jsx)(m,{label:"Address",required:!0,value:i.address,onChange:e=>a({...i,address:e}),full:!0})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"2) Person / Company (Licensee / Dealer) against whom complaint is filed"}),(0,n.jsx)("div",{style:{maxWidth:400},children:(0,n.jsx)(h,{label:"Company (if available in list)",options:e.companies,value:i.companyId,onChange:e=>a({...i,companyId:e}),required:!0})})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"3) What is the Complaint (Describe Problem)"}),(0,n.jsx)(m,{label:"Complaint Description",required:!0,value:i.complaint,onChange:e=>a({...i,complaint:e}),full:!0}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginTop:"0.5rem"},children:[(0,n.jsx)(h,{label:"Consumer (Type)",options:e.categories,value:i.categoryId,onChange:e=>a({...i,categoryId:e}),required:!0}),(0,n.jsx)(h,{label:"Complaint Type (internal use)",options:e.types,value:i.typeId,onChange:e=>a({...i,typeId:e}),required:!0})]})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"4) Has the complainant (in case of natural gas) tried to resolve the complaint directly with the licensee(SNGPL,SSGCL,OTHER), and brief their reply."}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"triedDirect",checked:"Yes"===b,onChange:()=>v("Yes")})," ","Yes"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"triedDirect",checked:"No"===b,onChange:()=>v("No")})," ","No"]})]}),"Yes"===b&&(0,n.jsx)(m,{label:"If yes, briefly describe the licensee's reply",value:C,onChange:N,full:!0})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"5) Has complainant filed this complaint with any other body? (e.g., Court) And Current Case status."}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"filedElsewhere",checked:"Yes"===A,onChange:()=>S("Yes")})," ","Yes"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"filedElsewhere",checked:"No"===A,onChange:()=>S("No")})," ","No"]})]}),"Yes"===A&&(0,n.jsx)(m,{label:"If yes, provide details (body, case number, etc.)",value:w,onChange:F,full:!0})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"6) Any Other Information"}),(0,n.jsx)(m,{label:"Any additional information you wish to provide",value:P,onChange:T,full:!0})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"7) Have copies of all relevant documents been attached?"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"attachmentsIncluded",checked:"Yes"===k,onChange:()=>I("Yes")})," ","Yes"]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"attachmentsIncluded",checked:"No"===k,onChange:()=>I("No")})," ","No"]})]}),"Yes"===k&&(0,n.jsx)(m,{label:"Itemized list of attached documents",value:q,onChange:Y,full:!0}),(0,n.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,n.jsx)("label",{style:{fontWeight:600,fontSize:"0.9rem"},children:"File Upload (PDF/JPG/PNG, ≤ 5 MB each)"}),(0,n.jsx)("input",{type:"file",multiple:!0,onChange:e=>{y("");let t=e.target.files;for(let e=0;e<t.length;e++)if(t[e].size>5242880){y("Each attachment must be ≤ 5 MB.");return}p(t)},style:{marginTop:6,padding:"0.4rem",border:"1px solid #ccc",borderRadius:6,width:"100%"}})]})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{style:{color:"#0C512F",marginBottom:"0.5rem"},children:"8) Affirmation"}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",color:"#444"},children:"I hereby affirm that all the facts and information given in this application are correct and that no material facts have been concealed from the Authority."}),(0,n.jsx)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:E,onChange:e=>_(e.target.checked)})," ","I agree with the above statement."]})}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem",marginTop:"0.5rem"},children:[(0,n.jsx)(c,{label:"Signature of Complainant",value:z,onChange:B}),(0,n.jsx)(c,{label:"Date",type:"date",value:R,onChange:D})]})]}),(0,n.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,n.jsx)("button",{disabled:u,style:{background:"#0C512F",color:"white",padding:"0.7rem 2rem",border:"none",borderRadius:6,fontSize:"1rem",cursor:"pointer"},children:u?"Submitting...":O?"Confirm & Submit":"Review Summary"})})]})]})})}function c(e){let{label:t,value:i,onChange:r,required:a,type:s="text"}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{fontWeight:600,fontSize:"0.9rem"},children:t}),(0,n.jsx)("input",{required:a,type:s,value:i,onChange:e=>r(e.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:6,marginTop:6}})]})}function m(e){let{label:t,value:i,onChange:r,required:a,full:s}=e;return(0,n.jsxs)("div",{style:{gridColumn:s?"1/-1":"auto"},children:[(0,n.jsx)("label",{style:{fontWeight:600,fontSize:"0.9rem"},children:t}),(0,n.jsx)("textarea",{required:a,value:i,onChange:e=>r(e.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:6,marginTop:6,minHeight:90}})]})}function h(e){let{label:t,options:i,value:r,onChange:a,required:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{fontWeight:600,fontSize:"0.9rem"},children:t}),(0,n.jsxs)("select",{value:r,onChange:e=>a(e.target.value),required:s,style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:6,marginTop:6},children:[(0,n.jsx)("option",{value:"",children:"Select"}),i.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}}},function(e){e.O(0,[66,664,888,774,179],function(){return e(e.s=705)}),_N_E=e.O()}]);